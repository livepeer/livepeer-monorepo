{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = initializeBuildWatcher;\n\nvar _router = _interopRequireDefault(require(\"../router\"));\n\nfunction initializeBuildWatcher() {\n  var shadowHost = document.createElement('div');\n  shadowHost.id = '__next-prerender-indicator'; // Make sure container is fixed and on a high zIndex so it shows\n\n  shadowHost.style.position = 'fixed';\n  shadowHost.style.bottom = '20px';\n  shadowHost.style.right = '10px';\n  shadowHost.style.width = 0;\n  shadowHost.style.height = 0;\n  shadowHost.style.zIndex = 99998;\n  shadowHost.style.transition = 'all 100ms ease';\n  shadowHost.title = 'Click to hide for page';\n  document.body.appendChild(shadowHost);\n  var shadowRoot;\n  var prefix = '';\n\n  if (shadowHost.attachShadow) {\n    shadowRoot = shadowHost.attachShadow({\n      mode: 'open'\n    });\n  } else {\n    // If attachShadow is undefined then the browser does not support\n    // the Shadow DOM, we need to prefix all the names so there\n    // will be no conflicts\n    shadowRoot = shadowHost;\n    prefix = '__next-prerender-indicator-';\n  } // Container\n\n\n  var container = createContainer(prefix);\n  shadowRoot.appendChild(container); // CSS\n\n  var css = createCss(prefix);\n  shadowRoot.appendChild(css); // State\n\n  var isVisible = window.__NEXT_DATA__.nextExport;\n\n  function updateContainer() {\n    if (isVisible) {\n      container.classList.add(prefix + \"visible\");\n    } else {\n      container.classList.remove(prefix + \"visible\");\n    }\n  }\n\n  shadowHost.addEventListener('click', function () {\n    shadowHost.style.opacity = 0;\n    shadowHost.style.pointerEvents = 'none';\n  });\n  shadowHost.addEventListener('mouseenter', function () {\n    container.classList.add(prefix + \"expanded\");\n  });\n  shadowHost.addEventListener('mouseleave', function () {\n    container.classList.remove(prefix + \"expanded\");\n  });\n\n  _router[\"default\"].events.on('routeChangeComplete', function () {\n    isVisible = window.next.isPrerendered;\n    shadowHost.style.opacity = 1;\n    updateContainer();\n  });\n\n  updateContainer();\n}\n\nfunction createContainer(prefix) {\n  var container = document.createElement('div');\n  container.id = prefix + \"container\";\n  container.innerHTML = \"\\n    <div id=\\\"\" + prefix + \"icon-wrapper\\\">\\n      <svg width=\\\"15\\\" height=\\\"20\\\" viewBox=\\\"0 0 60 80\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n      <path d=\\\"M36 3L30.74 41H8L36 3Z\\\" fill=\\\"black\\\"/>\\n      <path d=\\\"M25 77L30.26 39H53L25 77Z\\\" fill=\\\"black\\\"/>\\n      <path d=\\\"M13.5 33.5L53 39L47.5 46.5L7 41.25L13.5 33.5Z\\\" fill=\\\"black\\\"/>\\n      </svg>\\n      Prerendered Page\\n    </div>\\n  \";\n  return container;\n}\n\nfunction createCss(prefix) {\n  var css = document.createElement('style');\n  css.textContent = \"\\n    #\" + prefix + \"container {\\n      position: absolute;\\n      bottom: 10px;\\n      right: 15px;\\n      width: 15px;\\n      height: 23px;\\n      overflow: hidden;\\n\\n      border-radius: 3px;\\n      background: #fff;\\n      color: #000;\\n      font: initial;\\n      cursor: pointer;\\n      letter-spacing: initial;\\n      text-shadow: initial;\\n      text-transform: initial;\\n      visibility: initial;\\n      font-size: 14px;\\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\\n\\n      padding: 4px 2px;\\n      align-items: center;\\n      box-shadow: 0 11px 40px 0 rgba(0, 0, 0, 0.25), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\\n\\n      display: none;\\n      opacity: 0;\\n      transition: opacity 0.1s ease, bottom 0.1s ease, width 0.3s ease;\\n      animation: \" + prefix + \"fade-in 0.1s ease-in-out;\\n    }\\n\\n    #\" + prefix + \"icon-wrapper {\\n      width: 140px;\\n      height: 20px;\\n      display: flex;\\n      flex-shrink: 0;\\n      align-items: center;\\n    }\\n\\n    #\" + prefix + \"icon-wrapper svg {\\n      flex-shrink: 0;\\n      margin-right: 3px;\\n    }\\n\\n    #\" + prefix + \"container.\" + prefix + \"expanded {\\n      width: 140px;\\n    }\\n\\n    #\" + prefix + \"container.\" + prefix + \"visible {\\n      display: flex;\\n      bottom: 10px;\\n      opacity: 1;\\n    }\\n\\n    @keyframes \" + prefix + \"fade-in {\\n      from {\\n        bottom: 0px;\\n        opacity: 0;\\n      }\\n      to {\\n        bottom: 10px;\\n        opacity: 1;\\n      }\\n    }\\n  \";\n  return css;\n}","map":{"version":3,"sources":["/Users/adamsoffer/Workspace/livepeerjs/node_modules/next/dist/client/dev/prerender-indicator.js"],"names":["_interopRequireDefault","require","exports","__esModule","initializeBuildWatcher","_router","shadowHost","document","createElement","id","style","position","bottom","right","width","height","zIndex","transition","title","body","appendChild","shadowRoot","prefix","attachShadow","mode","container","createContainer","css","createCss","isVisible","window","__NEXT_DATA__","nextExport","updateContainer","classList","add","remove","addEventListener","opacity","pointerEvents","events","on","next","isPrerendered","innerHTML","textContent"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=initializeBuildWatcher;var _router=_interopRequireDefault(require(\"../router\"));function initializeBuildWatcher(){const shadowHost=document.createElement('div');shadowHost.id='__next-prerender-indicator';// Make sure container is fixed and on a high zIndex so it shows\nshadowHost.style.position='fixed';shadowHost.style.bottom='20px';shadowHost.style.right='10px';shadowHost.style.width=0;shadowHost.style.height=0;shadowHost.style.zIndex=99998;shadowHost.style.transition='all 100ms ease';shadowHost.title='Click to hide for page';document.body.appendChild(shadowHost);let shadowRoot;let prefix='';if(shadowHost.attachShadow){shadowRoot=shadowHost.attachShadow({mode:'open'});}else{// If attachShadow is undefined then the browser does not support\n// the Shadow DOM, we need to prefix all the names so there\n// will be no conflicts\nshadowRoot=shadowHost;prefix='__next-prerender-indicator-';}// Container\nconst container=createContainer(prefix);shadowRoot.appendChild(container);// CSS\nconst css=createCss(prefix);shadowRoot.appendChild(css);// State\nlet isVisible=window.__NEXT_DATA__.nextExport;function updateContainer(){if(isVisible){container.classList.add(prefix+\"visible\");}else{container.classList.remove(prefix+\"visible\");}}shadowHost.addEventListener('click',()=>{shadowHost.style.opacity=0;shadowHost.style.pointerEvents='none';});shadowHost.addEventListener('mouseenter',()=>{container.classList.add(prefix+\"expanded\");});shadowHost.addEventListener('mouseleave',()=>{container.classList.remove(prefix+\"expanded\");});_router.default.events.on('routeChangeComplete',()=>{isVisible=window.next.isPrerendered;shadowHost.style.opacity=1;updateContainer();});updateContainer();}function createContainer(prefix){const container=document.createElement('div');container.id=prefix+\"container\";container.innerHTML=\"\\n    <div id=\\\"\"+prefix+\"icon-wrapper\\\">\\n      <svg width=\\\"15\\\" height=\\\"20\\\" viewBox=\\\"0 0 60 80\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n      <path d=\\\"M36 3L30.74 41H8L36 3Z\\\" fill=\\\"black\\\"/>\\n      <path d=\\\"M25 77L30.26 39H53L25 77Z\\\" fill=\\\"black\\\"/>\\n      <path d=\\\"M13.5 33.5L53 39L47.5 46.5L7 41.25L13.5 33.5Z\\\" fill=\\\"black\\\"/>\\n      </svg>\\n      Prerendered Page\\n    </div>\\n  \";return container;}function createCss(prefix){const css=document.createElement('style');css.textContent=\"\\n    #\"+prefix+\"container {\\n      position: absolute;\\n      bottom: 10px;\\n      right: 15px;\\n      width: 15px;\\n      height: 23px;\\n      overflow: hidden;\\n\\n      border-radius: 3px;\\n      background: #fff;\\n      color: #000;\\n      font: initial;\\n      cursor: pointer;\\n      letter-spacing: initial;\\n      text-shadow: initial;\\n      text-transform: initial;\\n      visibility: initial;\\n      font-size: 14px;\\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\\n\\n      padding: 4px 2px;\\n      align-items: center;\\n      box-shadow: 0 11px 40px 0 rgba(0, 0, 0, 0.25), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\\n\\n      display: none;\\n      opacity: 0;\\n      transition: opacity 0.1s ease, bottom 0.1s ease, width 0.3s ease;\\n      animation: \"+prefix+\"fade-in 0.1s ease-in-out;\\n    }\\n\\n    #\"+prefix+\"icon-wrapper {\\n      width: 140px;\\n      height: 20px;\\n      display: flex;\\n      flex-shrink: 0;\\n      align-items: center;\\n    }\\n\\n    #\"+prefix+\"icon-wrapper svg {\\n      flex-shrink: 0;\\n      margin-right: 3px;\\n    }\\n\\n    #\"+prefix+\"container.\"+prefix+\"expanded {\\n      width: 140px;\\n    }\\n\\n    #\"+prefix+\"container.\"+prefix+\"visible {\\n      display: flex;\\n      bottom: 10px;\\n      opacity: 1;\\n    }\\n\\n    @keyframes \"+prefix+\"fade-in {\\n      from {\\n        bottom: 0px;\\n        opacity: 0;\\n      }\\n      to {\\n        bottom: 10px;\\n        opacity: 1;\\n      }\\n    }\\n  \";return css;}"]},"metadata":{},"sourceType":"script"}